<!DOCTYPE html>
<html>
<head>
  <title>Time Synced MP4 Playlist</title>
  <style>
    body {
      background: #000;
      color: #fff;
      font-family: sans-serif;
      text-align: center;
    }
    video {
      width: 90%;
      max-width: 800px;
      margin-top: 20px;
    }
  </style>
</head>
<body>

<h2>Time Synced MP4 Playlist</h2>
<video id="videoPlayer" controls autoplay></video>

<script>
  // Playlist of MP4s with durations in seconds (approx)
  const playlist = [
    {
      url: "https://vksovhv101.vkcdn5.com/olaxl74px7uiolyobfv2badlmbvajd6v7sk5jr5w4ueyp2up3rzdi4lt26kq/v.mp4",
      duration: 300 // duration in seconds (replace with actual if known)
    },
    // Add more items like:
    // { url: "https://example.com/video2.mp4", duration: 120 },
  ];

  const video = document.getElementById("videoPlayer");

  // Get current time in seconds (sync point)
  const now = new Date();
  const secondsSinceMidnight = now.getHours() * 3600 + now.getMinutes() * 60 + now.getSeconds();

  // Determine which video to play and from where
  let elapsed = secondsSinceMidnight;
  let currentIndex = 0;
  let startOffset = 0;

  for (let i = 0; i < playlist.length; i++) {
    if (elapsed < playlist[i].duration) {
      currentIndex = i;
      startOffset = elapsed;
      break;
    } else {
      elapsed -= playlist[i].duration;
    }
  }

  function playVideo(index, offset = 0) {
    if (index >= playlist.length) {
      console.log("Playlist ended.");
      return;
    }

    video.src = playlist[index].url;
    video.currentTime = offset;

    video.onended = function () {
      playVideo(index + 1, 0); // play next from beginning
    };
  }

  // Wait for metadata to be loaded before seeking
  video.addEventListener('loadedmetadata', () => {
    video.currentTime = startOffset;
  });

  playVideo(currentIndex, startOffset);
</script>

</body>
</html>
