<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MSTV Network</title>

<style>
/* ===== Global Reset ===== */
* { box-sizing: border-box; }

body {
  margin: 0;
  padding: 0;
  font-family: 'Poppins', sans-serif;
  color: #E0E0E0;
  background: #0F1115;
}

/* ===== Fluid Title ===== */
.title-3d {
  font-size: clamp(1.8rem, 4vw, 3.5rem);
  text-align: center;
  margin: clamp(20px, 5vh, 40px) 0 10px;
  color: #FFFFFF;
  letter-spacing: 2px;
  font-weight: 700;
}

.scrolling-news {
  background: #1A1D20;
  color: #90EE90;
  padding: 10px 0;
  border-top: 1px solid #333;
  border-bottom: 1px solid #333;
  margin-bottom: 20px;
  font-weight: 500;
}

.channel-selector-text {
  text-align: center;
  font-size: clamp(1.2rem, 3vw, 1.8rem);
  margin: 4vh 0 2vh;
  font-weight: 600;
}

.channel-selection {
  display: flex;
  justify-content: center;
  padding: 0 15px;
  margin-bottom: 5vh;
}

select {
  width: 100%;
  max-width: 500px;
  padding: 12px;
  font-size: clamp(0.9rem, 2vw, 1.2rem);
  background: #1A1D20;
  color: #90EE90;
  border: 1px solid #90EE90;
  border-radius: 8px;
  text-align: center;
  outline: none;
  cursor: pointer;
}

/* ===== Responsive Player ===== */
.player-container {
  position: relative;
  width: 95%;
  max-width: 1200px;
  margin: 0 auto 30px;
  border-radius: 12px;
  overflow: hidden;
  background: #000;
  box-shadow: 0 8px 20px rgba(0,0,0,0.5);
}

/* Ensures container fills screen in Fullscreen Mode */
.player-container:fullscreen {
  width: 100vw;
  height: 100vh;
  max-width: none;
  border-radius: 0;
}

.player-container::before {
  content: "";
  display: block;
  padding-top: 56.25%;
}

.player-container iframe,
.player-container video,
#placeholder-image {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: contain;
  border: none;
}

/* NEW: Fullscreen Button Style */
.fs-btn {
  position: absolute;
  bottom: 15px;
  right: 15px;
  background: rgba(0, 0, 0, 0.6);
  color: white;
  border: 1px solid #90EE90;
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  z-index: 30;
  font-size: 14px;
  display: none; /* Hidden until a channel is selected */
}

.fs-btn:hover { background: #90EE90; color: black; }

.fb-follow-container { text-align: center; margin-bottom: 60px; }
.fb-link {
  display: inline-flex;
  align-items: center;
  text-decoration: none;
  color: #ffffff;
  background: #1877F2;
  padding: 10px 20px;
  border-radius: 50px;
  font-weight: bold;
}

footer {
  background: #000;
  color: #888;
  text-align: center;
  padding: 40px 20px;
  border-top: 1px solid #222;
}

.live-stamp {
  position: absolute;
  top: 15px;
  left: 15px;
  background: #E50914;
  color: white;
  font-weight: 700;
  padding: 6px 14px;
  border-radius: 6px;
  z-index: 10;
}

.loading-indicator {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: rgba(0,0,0,0.8);
  color: #90EE90;
  padding: 12px 25px;
  border-radius: 8px;
  display: none;
  z-index: 20;
}
</style>
</head>
<body>

<div class="title-3d">AAINA DTH FREE</div>

<div class="scrolling-news">
    <marquee behavior="scroll" direction="left" scrollamount="6">
        Welcome to MSTV Network - AAINA DTH FREE! Experience high-quality streaming 24/7.
    </marquee>
</div>

<div class="channel-selector-text">Select Channel</div>

<div class="channel-selection">
<select id="channel-select">
<option value="">ðŸ‘‰ðŸ“º Choose a Channel</option>
</select>
</div>

<div class="player-container" id="main-player-container">
    <iframe id="media-player" allow="autoplay; encrypted-media; picture-in-picture; fullscreen" sandbox="allow-scripts allow-same-origin allow-presentation"></iframe>
    <video id="video-player" autoplay playsinline controls style="display:none;"></video>
    <img id="placeholder-image" src="Design-Studio-2025-01-22 (1).png">
    <div class="live-stamp" id="live-stamp">MSTV NETWORK</div>
    <div class="loading-indicator" id="loading">Loading stream...</div>
    <button class="fs-btn" id="fs-toggle" onclick="toggleFullscreen()">â›¶ Fullscreen</button>
</div>

<div class="fb-follow-container">
    <a href="https://www.facebook.com" target="_blank" class="fb-link">Click here to follow us</a>
</div>

<footer>
    <div class="footer-content">
        <h3>About Us</h3>
        <p>MSTV Network is your premier destination for free digital entertainment.</p>
        <div class="copyright">&copy; <span id="year"></span> MSTV Network.</div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net"></script>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

const select = document.getElementById('channel-select');
const videoPlayer = document.getElementById('video-player');
const iframePlayer = document.getElementById('media-player');
const placeholder = document.getElementById('placeholder-image');
const loading = document.getElementById('loading');
const liveStamp = document.getElementById('live-stamp');
const fsBtn = document.getElementById('fs-toggle');
const container = document.getElementById('main-player-container');

let hlsInstance = null;

const channelsData = [
  { name: "Aaina DTH Main", url: "https://mstvnetwork.github.io", type: "iframe" },
  { name: "Bollywood Classic", url: "https://d35j504z0x2vu2.cloudfront.net", type: "hls" },
  { name: "Zee Cinema", url: "https://fscott.sytes.net", type: "iframe" }
];

channelsData.forEach((ch, i) => {
  let opt = document.createElement('option');
  opt.value = i; opt.textContent = ch.name;
  select.appendChild(opt);
});

// NEW: Universal Fullscreen Toggle
function toggleFullscreen() {
  if (!document.fullscreenElement && !document.webkitFullscreenElement) {
    if (container.requestFullscreen) container.requestFullscreen();
    else if (container.webkitRequestFullscreen) container.webkitRequestFullscreen(); // Safari/iOS
  } else {
    if (document.exitFullscreen) document.exitFullscreen();
    else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
  }
}

function stopAllPlayback() {
  if (hlsInstance) { hlsInstance.destroy(); hlsInstance = null; }
  videoPlayer.pause(); videoPlayer.src = ""; videoPlayer.style.display = 'none';
  iframePlayer.src = ""; iframePlayer.style.display = 'none';
  liveStamp.style.display = 'none';
  fsBtn.style.display = 'none';
}

function playChannel(channel) {
  stopAllPlayback();
  if (!channel) { placeholder.style.display = 'block'; return; }
  
  loading.style.display = 'block';
  placeholder.style.display = 'none';
  fsBtn.style.display = 'block';

  if (channel.type === "hls") {
    videoPlayer.style.display = "block";
    if (Hls.isSupported()) {
      hlsInstance = new Hls();
      hlsInstance.loadSource(channel.url);
      hlsInstance.attachMedia(videoPlayer);
      hlsInstance.on(Hls.Events.MANIFEST_PARSED, () => { videoPlayer.play(); loading.style.display = 'none'; });
    } else {
      videoPlayer.src = channel.url;
      videoPlayer.play();
      loading.style.display = 'none';
    }
  } else {
    iframePlayer.src = channel.url;
    iframePlayer.style.display = "block";
    liveStamp.style.display = "block";
    loading.style.display = 'none';
  }

  // AUTO-TRIGGER FULLSCREEN on user selection
  setTimeout(toggleFullscreen, 500); 
}

select.addEventListener("change", () => {
  const channel = channelsData[select.value];
  playChannel(channel);
});
</script>
</body>
</html>
