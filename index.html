<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <meta name="description" content="MSTV Network offers a variety of live TV channels including music, movies, and more. Watch your favorite channels online for free.">
  <meta name="keywords" content="live TV, MSTV Network, free TV, live channels, streaming, music, bollywood, saga music">
  <meta name="robots" content="index, follow">

  <meta property="og:title" content="MSTV Network">
  <meta property="og:description" content="Stream live TV channels including music, movies, and more on MSTV Network.">
  <meta property="og:image" content="https://raw.githubusercontent.com/mstvnetwork/mstv2/refs/heads/main/Design-Studio-2025-01-20%20(2).png">
  <meta property="og:url" content="https://mstvnet.netlify.app/">
  <meta property="og:type" content="website">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="MSTV Network">
  <meta name="twitter:description" content="Stream live TV channels including music, movies, and more on MSTV Network.">
  <meta name="twitter:image" content="https://raw.githubusercontent.com/mstvnetwork/mstv2/refs/heads/main/Design-Studio-2025-01-20%20(2).png">
  <meta name="twitter:url" content="https://mstvnet.netlify.app/">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "MSTV Network",
    "url": "https://mstvnet.netlify.app",
    "publisher": {
      "@type": "Organization",
      "name": "MSTV Network",
      "logo": {
        "@type": "ImageObject",
        "url": "https://raw.githubusercontent.com/mstvnetwork/mstv2/refs/heads/main/Design-Studio-2025-01-20%20(2).png"
      }
    }
  }
  </script>
  <title>MSTV NETWORK</title>
</head>
<style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }
    .title-wrapper {
        text-align: center;
        margin-top: 20px;
    }

    .title {
        font-size: 3em;
        display: inline-block;
        color: #0ff;
        text-shadow: 0 0 20px #0ff;
        animation: pop 1.5s ease-in-out infinite alternate;
        will-change: transform;
    }

    @keyframes pop {
        0% { transform: scale(1); }
        100% { transform: scale(1.05); }
    }

    .scrolling-text-container {
        overflow: hidden;
        white-space: nowrap;
        width: 100%;
        box-sizing: border-box;
        border-top: 1px solid #0ff;
        border-bottom: 1px solid #0ff;
        padding: 10px 0;
        margin: 10px 0;
    }
    .scrolling-text {
        display: inline-block;
        animation: scroll-horizontal 15s linear infinite, scrollColor 5s linear infinite;
        font-size: 1.2em;
        color: #fff;
    }
    @keyframes scroll-horizontal {
        0% { transform: translateX(100%); }
        100% { transform: translateX(-100%); }
    }
    @keyframes scrollColor {
        0% { color: red; }
        25% { color: green; }
        50% { color: cyan; }
        75% { color: orange; }
        100% { color: red; }
    }
    .categories {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        margin: 15px;
    }
    .categories button {
        padding: 10px;
        background: #222;
        color: #0ff;
        border: 1px solid #0ff;
        cursor: pointer;
        transition: background 0.3s ease;
        border-radius: 4px;
        min-width: 140px;
        text-align: center;
    }
    .categories button:hover {
        background: #0ff;
        color: #111;
    }
    .channel-logos {
        display: none;
        flex-wrap: nowrap;
        overflow-x: auto;
        background: rgba(0, 0, 0, 0.6);
        padding: 10px;
        gap: 10px;
        margin: 0 15px;
        border-radius: 6px;
    }
    .channel-logos img {
        width: 100px;
        cursor: pointer;
        border: 2px solid #0ff;
        border-radius: 6px;
        transition: transform 0.3s ease;
    }
    .channel-logos img:hover {
        transform: scale(1.1);
    }
    .media-player-container {
        position: relative;
        width: 90%;
        max-width: 960px;
        aspect-ratio: 16 / 9;
        margin: 20px auto;
        border: 5px double #0ff;
        background: #000;
        overflow: hidden;
        border-radius: 10px;
    }

    .media-player {
        width: 100%;
        height: 100%;
        aspect-ratio: 16 / 9;
        display: block;
        border: none;
        object-fit: cover;
    }

    #player-wrapper {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .overlay-top-left {
        position: absolute;
        top: 5px;
        left: 10px;
        background: red;
        color: white;
        padding: 5px 10px;
        font-weight: bold;
        font-family: 'Arial Black', Arial, sans-serif;
        font-size: 0.9em;
        border-radius: 3px;
        box-shadow: 0 0 8px red;
        z-index: 20;
        user-select: none;
        pointer-events: none; /* Allows clicks to pass through overlays */
    }

    .overlay-top-right {
        position: absolute;
        top: 5px; /* Adjust vertical position */
        right: 10px; /* Adjust horizontal position */
        z-index: 20;
        user-select: none;
        pointer-events: none; /* Allows clicks to pass through */
    }

    .logo-overlay {
        width: 120px; /* Adjust size as needed */
        height: auto;
        max-width: 100%;
        display: block;
        opacity: 0.85;
        z-index: 12;
    }

    /* Optional responsive adjustments */
    @media (max-width: 600px) {
        .logo-overlay {
            width: 80px;
        }

        .overlay-top-left {
            font-size: 0.7em;
            padding: 4px 8px;
        }
    }

    .loading-indicator {
        position: absolute;
        top: 45%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: #0ff;
        font-size: 1.5em;
        display: none; /* Hidden by default */
        user-select: none;
        font-family: monospace;
        font-weight: bold;
        text-shadow: 0 0 10px #0ff;
        z-index: 15;
    }
    .follow-us {
        text-align: center;
        margin: 10px;
        font-size: 1.1em;
        color: #0ff;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
    }
    .follow-us a {
        color: #0ff;
        text-decoration: none;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 6px;
    }
    .follow-us a svg {
        width: 24px;
        height: 24px;
        fill: #0ff;
        transition: fill 0.3s ease;
    }
    .follow-us a:hover svg {
        fill: #08c;
    }
    .follow-us a:hover {
        text-decoration: underline;
    }
    footer {
        background: #222;
        padding: 20px;
        text-align: center;
        margin-top: 40px;
        font-size: 0.9em;
        color: #ccc;
    }

    @media (min-width: 768px) {
        footer {
            font-size: 0.75em; /* smaller size for larger screens / desktop mode */
        }
    }
    footer h3 {
        background: linear-gradient(90deg, #0ff, #08f, #0ff);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 10px #0ff;
        font-weight: bold;
        font-size: 1.2em;
        margin-bottom: 10px;
        animation: shimmer 3s infinite linear;
    }

    @keyframes shimmer {
        0% {
            background-position: -100%;
        }
        100% {
            background-position: 200%;
        }
    }

    footer p.copyright {
        animation: glowText 2s ease-in-out infinite alternate;
        font-weight: bold;
        color: #0ff;
        text-shadow: 0 0 5px #0ff, 0 0 10px #0ff, 0 0 20px #0ff;
    }

    @keyframes glowText {
        0% {
            color: #0ff;
            text-shadow: 0 0 5px #0ff, 0 0 10px #0ff;
        }
        100% {
            color: #08f;
            text-shadow: 0 0 10px #08f, 0 0 20px #08f;
        }
    }

    /* HLS.js video player controls - to ensure they are hidden for a cleaner look */
    /* These apply to the <video> element */
    .hls-video-player::-webkit-media-controls-enclosure {
        display: none !important;
    }
    .hls-video-player::--webkit-media-controls {
        display: none !important;
    }
    .hls-video-player::-moz-range-track {
        display: none !important;
    }
</style>
<body>
  <audio autoplay loop>
    <source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/Monplaisir/HiFi_City_Tales/Monplaisir_-_05_-_Your_Lovely_Face.mp3" type="audio/mp3">
  </audio>

  <div class="title-wrapper">
    <span class="title">MSTV NETWORK</span>
  </div>

  <div class="scrolling-text-container">
    <div class="scrolling-text">
      Under development, please wait...
    </div>
  </div>

  <div class="categories" id="categories-container">
    </div>

  <div id="channel-logos" class="channel-logos">
    </div>

  <div class="media-player-container">
    <div class="overlay-top-left">MSTV NETWORK</div>
    
    <div class="overlay-top-right">
      <img src="logo.png" class="logo-overlay" alt="MSTV Logo" />
    </div>

    <div id="loading" class="loading-indicator">Loading...</div>

    <div id="player-wrapper">
      <img id="initial-placeholder-image" src="Design-Studio-2025-01-22 (1).png" alt="Stream Placeholder" class="media-player" style="display: block;">
    </div>
  </div>

  <div class="follow-us">
    <a href="https://www.facebook.com/YourPage" target="_blank" rel="noopener noreferrer" aria-label="Follow us on Facebook">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <path d="M22.675 0H1.325C.593 0 0 .593 0 1.326v21.348C0 23.406.593 24 1.325 24H12.82v-9.294H9.692v-3.622h3.128V8.41c0-3.1 1.894-4.788 4.659-4.788 1.325 0 2.463.099 2.795.143v3.24l-1.918.001c-1.504 0-1.796.715-1.796 1.763v2.312h3.588l-.467 3.622h-3.12V24h6.116C23.406 24 24 23.406 24 22.674V1.326C24 .593 23.406 0 22.675 0z"/>
      </svg>
      Click to follow us
    </a>
  </div>

  <footer>
    <h3>About Us</h3>
    <p>MSTV Network is a non-profit platform offering free access to live TV channels, including entertainment, music, news, and more. We provide high-quality streaming to viewers worldwide, ensuring a diverse and engaging experience. Our mission is to make content from the Indian subcontinent accessible to everyone, fostering cultural exchange through free, reliable, and uninterrupted TV streaming.</p>
    <h3>Disclaimer</h3>
    <p>MSTV Network provides access to publicly available channels from various sources on the internet for informational and entertainment purposes only. We do not control or guarantee the accuracy, availability, or legality of the content streamed. All content is provided "as is," and MSTV Network is not liable for any errors, interruptions, or damages arising from the use of our services. By using MSTV Network, you agree to comply with all applicable laws. For more details, please refer to our Terms of Service and Privacy Policy.</p>
    <h3>Terms of Service</h3>
    <p>By using MSTV Network, you agree to comply with our terms of services...</p>
    <p class="copyright">© 2025 MSTV NETWORK. All rights reserved.</p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <script>
    const playerWrapper = document.getElementById('player-wrapper');
    const loading = document.getElementById('loading');
    const categoriesContainer = document.getElementById('categories-container');
    const channelLogosContainer = document.getElementById('channel-logos');
    const initialPlaceholderImage = document.getElementById('initial-placeholder-image');

    // CHANNEL DATA: Add streams here easily
    const channelsByCategory = {
      news: [
        {name: "India Tv ",
            url: "https://pl-indiatvnews.akamaized.net/out/v1/db79179b608641ceaa5a4d0dd0dca8da/index.m3u8",
          logo: "logo.img/India-TV.png"},
          {name: "NDTV Hindi",
            url: "https://ndtvindiaelemarchana.akamaized.net/hls/live/2003679-b/ndtvindia/master.m3u8",
          logo: "logo.img/NDTV-India.png"},
         {name: "NDTV 24x7(English)",
            url: "https://ndtv24x7elemarchana.akamaized.net/hls/live/2003678-b/ndtv24x7/master.m3u8",
          logo: "logo.img/NDTV-24x7-1.png   "},
          {name: "Aaj Tak Hd",
            url: "https://feeds.intoday.in/aajtak/api/aajtakhd/master.m3u8",
          logo: "logo.img/Aaj-Tak-HD.png     "},
          {name: "India Today(English)",
            url: "https://feeds.intoday.in/hltapps/api/master.m3u8",
          logo: "logo.img/India_Today_icon.jpg     "},
          {name: "Tv9 Bharatvarsh",
            url: "https://dyjmyiv3bp2ez.cloudfront.net/pub-iotv9hinjzgtpe/liveabr/playlist.m3u8",
          logo: "logo.img/TV9-Bharatvarsh.png   "},
          // Generic YouTube test video URL for demonstration
          {name: "YouTube News Example", url: "https://www.youtube.com/embed/iGrH1tC8LdI?si=d51CTPpbfQvPQCFy", logo: "https://via.placeholder.com/100?text=YTNews"},
      ],
      music: [
        { name: "Music Channel", url: "https://www.youtube.com/watch?v=k_9G_s5z9iA", logo: "https://via.placeholder.com/100?text=Music" }, // Another YT example
        { name: "SAGA MUSIC HD", url: "https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg01412-xiaomiasia-sagamusic-xiaomi/playlist.m3u8", logo: "https://via.placeholder.com/100?text=SagaMusic" },
        { name: "B4U MOVIES", url: "https://amg00877-b4unew-amg00877c2-xiaomi-in-5489.playouts.now.amagi.tv/playlist.m3u8", logo: "https://via.placeholder.com/100?text=B4UMovies" },
        { name: "MH ONE", url: "https://mhlive.paramountinfosystem.com/mhonemusictest/d0dbe915091d400bd8ee7f27f0791303.sdp/playlist.m3u8", logo: "https://via.placeholder.com/100?text=MhOne" },
        { name: "SAGA HARYANVI", url: "https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg01412-xiaomiasia-sagamusicharyanvi-xiaomi/playlist.m3u8", logo: "https://via.placeholder.com/100?text=SagaHaryanvi" },
        { name: "BALLE BALLE MUSIC", url: "https://mcncdndigital.com/balleballetv/index.m3u8", logo: "https://via.placeholder.com/100?text=BalleBalle" },
        { name: "9XM MUSIC", url: "https://d14c63magvk61v.cloudfront.net/strm/channels/9xm/master.m3u8", logo: "https://via.placeholder.com/100?text=9XM" },
        { name: "9X JALWAA", url: "https://d14c63magvk61v.cloudfront.net/strm/channels/9xjalwa/master.m3u8", logo: "https://via.placeholder.com/100?text=9XJalwaa" },
        { name: "MTV CLASSIC USA", url: "https://fl2.moveonjoy.com/MTV_CLASSIC/index.m3u8", logo: "https://via.placeholder.com/100?text=MTVClassic" },
      ],
      entertainment: [
        { name: "Entertainment News", url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ", logo: "https://via.placeholder.com/100?text=Ent" }, // YT example
        { name: "MSTV DESI PLAY", url: "https://desiplaylive.akamaized.net/ptnr-yupptv/v1/manifest/611d79b11b77e2f571934fd80ca1413453772ac7/vglive-sk-660691/4cf68f50-0c5e-47a6-96e3-b78797a2b6fe/1.m3u8", logo: "https://via.placeholder.com/100?text=DesiPlay" },
        { name: "COLORS TV", url: "https://dreyfus.securitytactics.com/colorshindi.html", logo: "https://via.placeholder.com/100?text=ColorsTV" },
        { name: "CINEMA (WAIT 1 MINUTE TO LOAD)", url: "https://player.twitch.tv/?channel=aiodigital&parent=mstvnet.netlify.app", logo: "https://via.placeholder.com/100?text=CinemaTwitch" },
        { name: "ZEE CINEMA", url: "https://dreyfus.securitytactics.com/zeecinema.html", logo: "https://via.placeholder.com/100?text=ZeeCinema" },
        { name: "SONY KAL", url: "https://spt-sonykal-1-us.lg.wurl.tv/playlist.m3u8", logo: "https://via.placeholder.com/100?text=SonyKal" },
        { name: "AAP KE AADALAT", url: "https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg01550-indiatv-indiatv-aapkiadalat-mi-xiaomi/playlist.m3u8", logo: "https://via.placeholder.com/100?text=AapKiAdalat" },
        { name: "GHAINT PUNJABI", url: "https://cdn-uw2-prod.tsv2.amagi.tv/linear/amg01412-xiaomiasia-ghaintpunjab-xiaomi/playlist.m3u8", logo: "https://via.placeholder.com/100?text=GhaintPunjabi" },
        { name: "GREEN GOLD TV", url: "https://greengold-yupptv.vgcdn.net/v1/master/611d79b11b77e2f571934fd80ca1413453772ac7/af835e36-30e1-426f-b0d4-7383a330d69c/main.m3u8", logo: "https://via.placeholder.com/100?text=GreenGold" },
        { name: "BOLLYWOOD MASALA", url: "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/bollywood-masala/index.m3u8", logo: "https://via.placeholder.com/100?text=BollywoodMasala" },
        { name: "HITS MOVIES", url: "https://dreyfus.securitytactics.com/hitsmov.html", logo: "https://via.placeholder.com/100?text=HitsMovies" },
        { name: "GREEN CHILLIES", url: "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/green-chillies-tv/playlist.m3u8", logo: "https://via.placeholder.com/100?text=GreenChillies" },
        { name: "BOLLYWOOD HD", url: "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/bollywood-hd/manifest.m3u8", logo: "https://via.placeholder.com/100?text=BollywoodHD" },
        { name: "XUMO BOLLYWOOD", url: "https://dbrb49pjoymg4.cloudfront.net/10001/99991756/hls/master.m3u8", logo: "https://via.placeholder.com/100?text=XumoBollywood" },
        { name: "COMEDY KING MOVIES", url: "https://amg01448-samsungindia-amg01448c6-samsung-in-2297.playouts.now.amagi.tv/playlist/amg01448-samsungindia-comedyking-samsungin/playlist.m3u8", logo: "https://via.placeholder.com/100?text=ComedyKing" },
        { name: "RDC MOVIES", url: "https://janya-rdcmovies.akamaized.net/v1/master/611d79b11b77e2f571934fd80ca1413453772ac7/230a723f-867d-4fa3-b2d2-a622ba994cd2/main.m3u8", logo: "https://via.placeholder.com/100?text=RDCMovies" },
        { name: "E 24", url: "https://live-e24.dailyhunt.in/eternowsa/live/amlst:E24_,b256,b512,b1024,b1824,.smil/playlist.m3u8", logo: "https://via.placeholder.com/100?text=E24" },
        { name: "MIRAMAX MOVIES (ENG 1 minute to load)", url: "https://linear-798.frequency.stream/mt/plex/798/hls/master/playlist_384x216.m3u8", logo: "https://via.placeholder.com/100?text=Miramax" },
        { name: "UNIVERSAL MONSTER USA", url: "https://xumo-xumoent-ch824-d4q5c.fast.nbcuni.com/live/master.m3u8", logo: "https://via.placeholder.com/100?text=UniversalMonster" },
      ],
      sports: [
        { name: "Sports Twitch", url: "https://player.twitch.tv/?channel=ninja&parent=mstvnet.netlify.app", logo: "https://via.placeholder.com/100?text=Sports" },
        { name: "ASTRO CRICKET", url: "https://dreyfus.securitytactics.com/cricket.html", logo: "https://via.placeholder.com/100?text=AstroCricket" },
        { name: "SKY SPORTS FOOTBALL HD", url: "https://32tech0steam0dp01.org/live/UK_SkySportsFootballFHD/chunks.m3u8", logo: "https://via.placeholder.com/100?text=SkyFootball" },
        { name: "SKY SPORTS MAIN EVENT HD", url: "https://32tech0steam0dp01.org/live/SkySportTopEventFHD/chunks.m3u8", logo: "https://via.placeholder.com/100?text=SkyMainEvent" },
        { name: "SKY SPORTS TENNIS HD", url: "https://32tech0steam0dp01.org/live/UK_SkySportsTennisFHD/chunks.m3u8", logo: "https://via.placeholder.com/100?text=SkyTennis" },
        { name: "SKY SPORTS F1 HD", url: "https://32tech0steam0dp01.org/live/UK_SkySportF1FHD/chunks.m3u8", logo: "https://via.placeholder.com/100?text=SkyF1" },
        { name: "MANCHESTER UNITED HD", url: "https://bcovlive-a.akamaihd.net/r2d2c4ca5bf57456fb1d16255c1a535c8/eu-west-1/eu-west-1/6058004203001/profile_0/chunklist.m3u8", logo: "https://via.placeholder.com/100?text=ManUtd" },
        { name: "EUROSPORT HD", url: "https://dreyfus.securitytactics.com/eurosport.html", logo: "https://via.placeholder.com/100?text=Eurosport" },
        { name: "WWE NETWORK (2)", url: "https://d2p372oxiwmcn1.cloudfront.net/hls/main.m3u8", logo: "https://via.placeholder.com/100?text=WWE" },
      ],
      religious: [
        { name: "Religious Channel", url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ", logo: "https://via.placeholder.com/100?text=Religious" }, // YT example
        { name: "SIKH RATNAVALI", url: "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/sikh-ratnavali/master.m3u8", logo: "https://via.placeholder.com/100?text=SikhRatnavali" },
      ],
      international: [
        { name: "International Channel", url: "https://www.youtube.com/watch?v=dQw4w9WgXcQ", logo: "https://via.placeholder.com/100?text=Intl" }, // YT example
        { name: "FOX NEWS USA", url: "https://2-fss-2.streamhoster.com/pl_138/201950-5317556-1/playlist.m3u8", logo: "https://via.placeholder.com/100?text=FoxNews" },
        { name: "DUBAI ONE (ENG)", url: "https://dminnvllta.cdn.mgmlcdn.com/dubaione/smil:dubaione.stream.smil/chunklist.m3u8", logo: "https://via.placeholder.com/100?text=DubaiOne" },
        { name: "MBC BOLLYWOOD", url: "https://shls-mbcbollywood-prod-dub.shahid.net/out/v1/a79c9d7ef2a64a54a64d5c4567b3462a/index.m3u8", logo: "https://via.placeholder.com/100?text=MBCTVD" },
        { name: "ALJAZEERA NEWS", url: "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/al-jazeera-english/playlist.m3u8", logo: "https://via.placeholder.com/100?text=AlJazeera" },
        { name: "CNA INTERNATIONAL", url: "https://d2e1asnsl7br7b.cloudfront.net/7782e205e72f43aeb4a48ec97f66ebbe/index.m3u8", logo: "https://via.placeholder.com/100?text=CNA" },
        { name: "CARTOON NETWORK", url: "https://vodzong.mjunoon.tv:8087/streamtest/cartoon-network-87/playlist.m3u8", logo: "https://via.placeholder.com/100?text=CartoonNetwork" },
        { name: "NICKELODEON", url: "https://dreyfus.securitytactics.com/nicklo.html", logo: "https://via.placeholder.com/100?text=Nickelodeon" },
        { name: "BBC CBEEBIES", url: "https://dreyfus.securitytactics.com/ceebies.html", logo: "https://via.placeholder.com/100?text=Cbeebies" },
        { name: "DISCOVERY CHANNEL", url: "https://dreyfus.securitytactics.com/discov.html", logo: "https://via.placeholder.com/100?text=Discovery" },
        { name: "BBC EARTH", url: "https://dreyfus.securitytactics.com/bbcearth.html", logo: "https://via.placeholder.com/100?text=BBCEarth" },
        { name: "FREEBE TV USA", url: "https://d1h1d6qoy9vnra.cloudfront.net/v1/master/9d062541f2ff39b5c0f48b743c6411d25f62fc25/Freebie-Plex/187.m3u8", logo: "https://via.placeholder.com/100?text=FreebeTV" },
        { name: "BRIT ASIA TV", url: "https://d35j504z0x2vu2.cloudfront.net/v1/master/0bc8e8376bd8417a1b6761138aa41c26c7309312/britasiatv/master.m3u8", logo: "https://via.placeholder.com/100?text=BritAsia" },
        { name: "INDIA LIFE TV", url: "https://m6gdavepdn93-hls-live.5centscdn.com/pravasi/d0dbe915091d400bd8ee7f27f0791303.sdp/playlist.m3u8", logo: "https://via.placeholder.com/100?text=IndiaLife" },
        { name: "CHANNEL SEVEN (AUS)", url: "https://npc.cdn.7livecloud.io/hls/live/MEL6/master.m3u8", logo: "https://via.placeholder.com/100?text=Channel7" },
        { name: "PARAYAVARAN TV", url: "https://webtv-stream.nettv.com.np/broadcaster/Paryawaran.stream/playlist.m3u8", logo: "https://via.placeholder.com/100?text=ParayavaranTV" },
        { name: "KIDS TV", url: "https://cdn4.skygo.mn/live/disk1/Zoomoo/HLSv3-FTA/Zoomoo.m3u8", logo: "https://via.placeholder.com/100?text=KidsTV" },
      ]
    };

    function showLoading(show) {
      loading.style.display = show ? 'block' : 'none';
    }

    function capitalizeFirstLetter(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    // Build category buttons dynamically
    for (const category in channelsByCategory) {
      const btn = document.createElement('button');
      btn.textContent = capitalizeFirstLetter(category) + " Channels";
      btn.dataset.category = category;
      btn.onclick = () => showChannels(category);
      categoriesContainer.appendChild(btn);
    }

    function showChannels(category) {
      playerWrapper.innerHTML = ''; // Clear current player
      initialPlaceholderImage.style.display = 'none'; // Hide initial placeholder
      showLoading(false);
      channelLogosContainer.innerHTML = ''; // Clear channel logos

      const filtered = channelsByCategory[category] || [];

      if (!filtered.length) {
        channelLogosContainer.style.display = 'none';
        alert('No channels in this category');
        return;
      }

      filtered.forEach(ch => {
        const img = document.createElement('img');
        img.src = ch.logo;
        img.alt = ch.name + ' Logo';
        img.title = ch.name;
        img.dataset.url = ch.url;
        img.dataset.name = ch.name;
        img.style.borderColor = '#0ff';
        img.addEventListener('click', () => playStream(ch.url));
        channelLogosContainer.appendChild(img);
      });

      channelLogosContainer.style.display = 'flex';
    }

    // Function to play stream - enhanced from HTML1
    function playStream(url) {
        showLoading(true);
        playerWrapper.innerHTML = ''; // Clear existing content
        initialPlaceholderImage.style.display = 'none'; // Hide initial placeholder if visible
        channelLogosContainer.style.display = 'none'; // Hide channel logos

        // Hide old player elements by type
        const existingVideo = playerWrapper.querySelector('video');
        const existingIframe = playerWrapper.querySelector('iframe');
        if (existingVideo) existingVideo.remove();
        if (existingIframe) existingIframe.remove();

        // Check if the URL is for a known iframe type (YouTube, Twitch, or explicitly an .html file)
        const isIframeStream = url.includes('.html') || url.includes('twitch.tv') || url.includes('youtube.com') || url.includes('youtu.be/');

        if (isIframeStream) {
            const iframe = document.createElement('iframe');
            iframe.id = 'media-player';
            iframe.className = 'media-player';
            iframe.allow = 'autoplay; encrypted-media; picture-in-picture';
            iframe.allowFullscreen = false; // Explicitly disable fullscreen
            iframe.frameBorder = '0';
            iframe.loading = 'lazy'; // Improve performance

            // Crucial for stopping redirections and unwanted popups/controls
            iframe.sandbox = 'allow-scripts allow-same-origin allow-popups';

            // Handle YouTube specific embedding to prevent redirects and ensure no controls/fullscreen
            if (url.includes('youtube.com') || url.includes('youtu.be/')) {
                const youtubeId = getYouTubeId(url);
                if (youtubeId) {
                    // Correct YouTube embed URL with parameters to disable controls and fullscreen button
                    iframe.src = `http://www.youtube.com/embed/${youtubeId}?autoplay=1&controls=0&modestbranding=1&rel=0&iv_load_policy=3&fs=0`;
                } else {
                    console.error("Invalid YouTube URL:", url);
                    showLoading(false);
                    playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Invalid YouTube URL. Please check.</p>`;
                    return;
                }
            }
            // Handle Twitch specific embedding to prevent redirects and ensure no controls/fullscreen
            else if (url.includes('twitch.tv')) {
                const twitchChannel = getTwitchChannel(url);
                if (twitchChannel) {
                    // Make sure the 'parent' parameter is set to your domain for Twitch embeds
                    // Replace 'yourdomain.netlify.app' with your actual domain or dynamic window.location.hostname
                    iframe.src = `https://player.twitch.tv/?channel=${twitchChannel}&parent=${window.location.hostname}&autoplay=true&muted=false`;
                } else {
                    console.error("Invalid Twitch URL:", url);
                    showLoading(false);
                    playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Invalid Twitch URL. Please check.</p>`;
                    return;
                }
            } else {
                // For generic .html embeds or other direct iframe sources
                iframe.src = url;
            }

            playerWrapper.appendChild(iframe);
            iframe.onload = () => showLoading(false);
            iframe.onerror = () => {
                showLoading(false);
                playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Error loading stream. Please try another channel or refresh.</p>`;
            };

        } else {
            // Handle M3U8 and other direct video URLs
            const video = document.createElement('video');
            video.id = 'video-player';
            video.className = 'media-player';
            video.autoplay = true;
            video.muted = false; // Start unmuted, user can adjust
            video.controls = false; // Hidden for cleaner UI, user can't interact directly (removes seekbar, fullscreen)
            video.playsInline = true;
            video.setAttribute('playsinline', '');
            video.setAttribute('autoplay', '');
            video.setAttribute('muted', 'false'); // Ensure it's not strictly muted

            // Prevent right-click context menu on video
            video.addEventListener('contextmenu', e => e.preventDefault());

            playerWrapper.appendChild(video);

            if (Hls.isSupported() && url.endsWith(".m3u8")) {
                const hls = new Hls();
                hls.loadSource(url);
                hls.attachMedia(video);
                hls.on(Hls.Events.MANIFEST_PARSED, () => {
                    video.play().catch(err => {
                        console.warn("Autoplay was prevented:", err);
                        showLoading(false); // Hide loading, prompt user to play
                        playerWrapper.innerHTML = `<p style="color: yellow; text-align: center; cursor: pointer;" onclick="document.getElementById('video-player').play(); this.style.display='none';">Click to play stream</p>`;
                    });
                });
                hls.on(Hls.Events.ERROR, function (event, data) {
                    if (data.fatal) {
                        switch (data.type) {
                            case Hls.ErrorTypes.NETWORK_ERROR:
                                console.error("Fatal network error encountered, try to recover");
                                hls.startLoad();
                                break;
                            case Hls.ErrorTypes.MEDIA_ERROR:
                                console.error("Fatal media error encountered, try to recover");
                                hls.recoverMediaError();
                                break;
                            default:
                                hls.destroy();
                                showLoading(false);
                                playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Stream error: ${data.details}.</p>`;
                                break;
                        }
                    }
                    console.error("HLS.js error:", data);
                    showLoading(false);
                    playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Error loading stream. Please try another channel or refresh.</p>`;
                });
            } else if (video.canPlayType('application/vnd.apple.mpegurl') || video.canPlayType('video/mp4')) {
                // Native HLS support (Safari/iOS) or direct MP4
                video.src = url;
                video.addEventListener('loadedmetadata', () => {
                    video.play().catch(err => {
                        console.warn("Autoplay was prevented:", err);
                        showLoading(false); // Hide loading, prompt user to play
                        playerWrapper.innerHTML = `<p style="color: yellow; text-align: center; cursor: pointer;" onclick="document.getElementById('video-player').play(); this.style.display='none';">Click to play stream</p>`;
                    });
                });
            } else {
                showLoading(false);
                playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Your browser does not support this video format.</p>`;
            }

            video.addEventListener('playing', () => showLoading(false));
            video.addEventListener('waiting', () => showLoading(true));
            video.addEventListener('error', () => {
                showLoading(false);
                playerWrapper.innerHTML = `<p style="color: red; text-align: center;">Error playing video. Please try another channel or refresh.</p>`;
            });
        }
    }

    function getYouTubeId(url) {
        // This regex is robust for various YouTube URL formats
        const regExp = /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i;
        const match = url.match(regExp);
        return (match && match[1].length === 11) ? match[1] : null;
    }

    function getTwitchChannel(url) {
      try {
        const urlObj = new URL(url);
        // Extracts channel name from path (e.g., /channelname) or query param (e.g., ?channel=channelname)
        const channelName = urlObj.pathname.replace(/^\/+/g, '');
        const searchParamsChannel = urlObj.searchParams.get('channel');
        return channelName || searchParamsChannel || '';
      } catch (e) {
        console.error("Error parsing Twitch URL:", e);
        return '';
      }
    }

    // Initial state: hide logos and show placeholder
    channelLogosContainer.style.display = 'none';
    initialPlaceholderImage.style.display = 'block'; // Ensure placeholder is visible on load
  </script>
</body>
</html>
