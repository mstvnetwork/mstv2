<head>
    <title>Watch the Video!</title>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>
    <h1>Watch the Video!</h1>
    <p>Click on the text below to watch the video:</p>
    <p><a href="#" onclick="playVideo();">Watch Video</a></p>

    <!-- Video player container -->
    <div id="videoContainer" style="display:none;">
        <video id="videoPlayer" width="600" controls>
            Your browser does not support the video tag.
        </video>
    </div>

    <script>
        function playVideo() {
            var videoContainer = document.getElementById('videoContainer');
            var videoPlayer = document.getElementById('videoPlayer');
            
            // Show the video container
            videoContainer.style.display = 'block';

            // Initialize HLS.js if supported by the browser
            if (Hls.isSupported()) {
                var hls = new Hls();

                // Log any errors related to HLS.js
                hls.on(Hls.Events.ERROR, function(event, data) {
                    console.error('HLS.js Error:', data);
                    alert('Error loading video: ' + data.details);
                });

                // Load the video source (HLS stream)
                hls.loadSource('http://170.254.18.107/SONY/index.m3u8');

                // Attach the media source to the video player
                hls.attachMedia(videoPlayer);

                hls.on(Hls.Events.MANIFEST_PARSED, function () {
                    // Start playing the video when the manifest is parsed
                    videoPlayer.play();
                });
            }
            // If the browser supports native HLS (Safari, for example), load the stream directly
            else if (videoPlayer.canPlayType('application/vnd.apple.mpegurl')) {
                videoPlayer.src = 'http://170.254.18.107/SONY/index.m3u8';
                videoPlayer.play();
            }
            else {
                alert('Your browser does not support HLS streaming.');
            }
        }
    </script>
</body>
</html>
